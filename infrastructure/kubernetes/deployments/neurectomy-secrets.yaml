---
# Neurectomy API Secrets - Phase 14 Production
# IMPORTANT: In production, use external secret management (Vault, AWS Secrets Manager, etc.)
# These inline secrets are for demonstration and should be replaced with external secret operators
apiVersion: v1
kind: Secret
metadata:
  name: neurectomy-secrets
  namespace: neurectomy
  labels:
    app: neurectomy-api
    component: gateway
    managed-by: manual
type: Opaque
data:
  # PostgreSQL password for neurectomy user
  # Change this to your actual password (base64 encoded)
  db-password: Y2hhbmdlTWVQcm9kIQ== # "changeMeProd!" in base64

  # Redis AUTH password
  # Change this to your actual Redis password (base64 encoded)
  redis-password: Y2hhbmdlTWVSZWRpc1Byb2QhIQ== # "changeMeRedisProd!!" in base64

  # JWT signing secret (min 32 characters)
  # Change this to a cryptographically secure random string (base64 encoded)
  jwt-secret: c3VwZXJTZWNyZXRKV1RUb2tlbktleUZvcllvdXJQcm9kdWN0aW9uRW52IQ== # "superSecretJWTTokenKeyForYourProductionEnv!" in base64

  # API key for external integrations (optional)
  api-key: bnVyZWN0b215LWFwaS1rZXktdjEtcHJvZHVjdGlvbg== # "neurectomy-api-key-v1-production" in base64

  # Master encryption key for sensitive data (optional)
  encryption-key: bWFzdGVyLWVuY3J5cHRpb24ta2V5LTMyLWNoYXJhY3RlcnMtbWluaW11bQ== # "master-encryption-key-32-characters-minimum" in base64

---
# INSTRUCTIONS FOR SECURE SECRET MANAGEMENT:
#
# 1. NEVER commit actual secrets to version control
# 2. Generate secrets locally or use a secrets manager
# 3. Base64 encode each secret value using:
#    echo -n "your-secret-value" | base64
#
# 4. Generate secure random values for production:
#
#    # PostgreSQL password (32+ characters)
#    openssl rand -base64 32
#
#    # Redis password (32+ characters)
#    openssl rand -base64 32
#
#    # JWT secret (64+ characters for production)
#    openssl rand -base64 64
#
#    # API key
#    openssl rand -base64 32
#
#    # Encryption key (must be 32 bytes for AES-256)
#    openssl rand -base64 32
#
# 5. For PRODUCTION DEPLOYMENTS, use:
#    - HashiCorp Vault
#    - AWS Secrets Manager
#    - Azure Key Vault
#    - Google Secret Manager
#    - External Secrets Operator (https://external-secrets.io/)
#    - Sealed Secrets (https://github.com/bitnami-labs/sealed-secrets)
#
# 6. Example using External Secrets Operator:
#
#    apiVersion: external-secrets.io/v1beta1
#    kind: SecretStore
#    metadata:
#      name: vault-backend
#      namespace: neurectomy
#    spec:
#      provider:
#        vault:
#          server: "https://vault.example.com:8200"
#          path: "secret"
#          auth:
#            kubernetes:
#              mountPath: "kubernetes"
#              role: "neurectomy-api"
#    ---
#    apiVersion: external-secrets.io/v1beta1
#    kind: ExternalSecret
#    metadata:
#      name: neurectomy-secrets
#      namespace: neurectomy
#    spec:
#      refreshInterval: 1h
#      secretStoreRef:
#        name: vault-backend
#        kind: SecretStore
#      target:
#        name: neurectomy-secrets
#        creationPolicy: Owner
#      data:
#        - secretKey: db-password
#          remoteRef:
#            key: neurectomy/db-password
#        - secretKey: redis-password
#          remoteRef:
#            key: neurectomy/redis-password
#        - secretKey: jwt-secret
#          remoteRef:
#            key: neurectomy/jwt-secret
